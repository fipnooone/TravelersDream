{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Projects\\\\- WEB\\\\TravelersDream\\\\dream\\\\src\\\\Components\\\\lk.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass LK extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  logOut() {\n    Cookies.remove('data', {\n      path: '',\n      domain: 'localhost'\n    });\n    this.props.props.history.push({\n      pathname: '/auth'\n    });\n  }\n\n  getUserName() {\n    let formData = new FormData();\n    formData.append(\"method\", \"getUserName\");\n    formData.append(\"data\", JSON.stringify({\n      \"token\": JSON.parse(Cookies.get(\"data\")).token\n    }));\n    axios.post(\"http://dream\", formData).then(res => {\n      if (res.data.success) {\n        console.log(res.data);\n      } else {\n        this.logOut();\n      }\n    }).catch(err => {\n      this.logOut(); //this.changeText(\"Произошла ошибка при подключении к серверу\");\n    });\n    /**/\n  }\n\n  render() {\n    this.getUserName();\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"noscript\", {\n        children: \"\\u0412\\u0438\\u0434\\u0438\\u043C\\u043E, \\u0432\\u0430\\u0448 \\u0431\\u0440\\u0430\\u0443\\u0437\\u0435\\u0440 \\u043D\\u0435 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u0438\\u0432\\u0430\\u0435\\u0442 JavaScript, \\u043B\\u0438\\u0431\\u043E \\u043E\\u043D \\u0432\\u044B\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D. \\u0412\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0435 \\u0435\\u0433\\u043E \\u0434\\u043B\\u044F \\u043A\\u043E\\u0440\\u0440\\u0435\\u043A\\u0442\\u043D\\u043E\\u0439 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B \\u0441\\u0430\\u0439\\u0442\\u0430.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"Sources/images/logo.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Auth\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"button button-login\",\n              children: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"button button-register\",\n              onClick: () => this.logOut(),\n              children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selection-shadow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"LK\",\n        children: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n} //onClick={this.setState({ currAction: false })}\n\n\nexport default LK;","map":{"version":3,"sources":["D:/Files/Projects/- WEB/TravelersDream/dream/src/Components/lk.js"],"names":["React","Component","axios","Cookies","LK","constructor","props","logOut","remove","path","domain","history","push","pathname","getUserName","formData","FormData","append","JSON","stringify","parse","get","token","post","then","res","data","success","console","log","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;;AAEA,MAAMC,EAAN,SAAiBH,SAAjB,CAA2B;AACvBI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AACDC,EAAAA,MAAM,GAAG;AACLJ,IAAAA,OAAO,CAACK,MAAR,CAAe,MAAf,EAAuB;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAAvB;AACA,SAAKJ,KAAL,CAAWA,KAAX,CAAiBK,OAAjB,CAAyBC,IAAzB,CAA8B;AAC1BC,MAAAA,QAAQ,EAAE;AADgB,KAA9B;AAGH;;AACDC,EAAAA,WAAW,GAAG;AACV,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,aAA1B;AACAF,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBC,IAAI,CAACC,SAAL,CAAe;AACnC,eAASD,IAAI,CAACE,KAAL,CAAWjB,OAAO,CAACkB,GAAR,CAAY,MAAZ,CAAX,EAAgCC;AADN,KAAf,CAAxB;AAGApB,IAAAA,KAAK,CAACqB,IAAN,CAAW,cAAX,EAA2BR,QAA3B,EAAqCS,IAArC,CAA0CC,GAAG,IAAI;AAC7C,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsB;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAhB;AACH,OAFD,MAGK;AACD,aAAKnB,MAAL;AACH;AACJ,KAPD,EAQCuB,KARD,CAQOC,GAAG,IAAI;AACV,WAAKxB,MAAL,GADU,CAEV;AACH,KAXD;AAYA;AACH;;AACDyB,EAAAA,MAAM,GAAG;AACL,SAAKlB,WAAL;AACA,wBACA;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,+BACI;AAAA,kCACI;AAAI,YAAA,EAAE,EAAC,MAAP;AAAA,mCAAc;AAAK,cAAA,GAAG,EAAC,yBAAT;AAAmC,cAAA,GAAG,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA;AAAd;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAI,YAAA,EAAE,EAAC,MAAP;AAAA,oCACQ;AAAG,cAAA,SAAS,EAAC,qBAAb;AAAA,wBAAqC;AAArC;AAAA;AAAA;AAAA;AAAA,oBADR,eAEQ;AAAG,cAAA,SAAS,EAAC,wBAAb;AAAsC,cAAA,OAAO,EAAE,MAAM,KAAKP,MAAL,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFR,eAGQ;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAHR;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAYI;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ;AAAA,oBADA;AAkBH;;AAlDsB,C,CAoD3B;;;AACA,eAAeH,EAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nclass LK extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    };\r\n    logOut() {\r\n        Cookies.remove('data', { path: '', domain: 'localhost' });\r\n        this.props.props.history.push({\r\n            pathname: '/auth'\r\n        })\r\n    };\r\n    getUserName() {\r\n        let formData = new FormData();\r\n        formData.append(\"method\", \"getUserName\");\r\n        formData.append(\"data\", JSON.stringify({\r\n            \"token\": JSON.parse(Cookies.get(\"data\")).token,\r\n        }));\r\n        axios.post(\"http://dream\", formData).then(res => {\r\n            if (res.data.success) {\r\n                console.log(res.data);\r\n            }\r\n            else {\r\n                this.logOut();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.logOut();\r\n            //this.changeText(\"Произошла ошибка при подключении к серверу\");\r\n        });\r\n        /**/\r\n    };\r\n    render() {\r\n        this.getUserName();\r\n        return (\r\n        <>\r\n            <noscript>Видимо, ваш браузер не поддерживает JavaScript, либо он выключен. Включите его для корректной работы сайта.</noscript>\r\n            <header>\r\n                <ul>\r\n                    <li id=\"Logo\"><img src=\"Sources/images/logo.png\" alt=\"\"/></li>\r\n                    <li id=\"Auth\">\r\n                            <a className=\"button button-login\" >{\"name\"}</a>\r\n                            <a className=\"button button-register\" onClick={() => this.logOut() }>Выйти</a>\r\n                            <div className=\"selection-shadow\"></div>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n            <div id=\"LK\">\r\n                Личный Кабинет\r\n            </div>\r\n        </>\r\n        );\r\n    };\r\n}\r\n//onClick={this.setState({ currAction: false })}\r\nexport default LK;"]},"metadata":{},"sourceType":"module"}