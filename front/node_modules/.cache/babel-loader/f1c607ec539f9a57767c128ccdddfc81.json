{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Projects\\\\- WEB\\\\TravelersDream\\\\front\\\\src\\\\Components\\\\Lk.js\";\nimport React, { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport { request, requests, uploadFiles, getToken } from './requests';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass LK extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      me: {\n        username: '',\n        photo: 'http://dream/profilepictures/0.png'\n      }\n    };\n    this.update();\n  }\n\n  update() {\n    requests({\n      'getUserInfo': {\n        heys: ['name', 'photo']\n      },\n      'getTypes': {},\n      'getCategories': {}\n    }, {\n      'token': getToken()\n    }).then(res => {\n      if (res.success) {\n        let data = res.result;\n        if (data.getUserInfo.success) // getUserInfo\n          this.setState({\n            me: {\n              username: data.getUserInfo.data.name,\n              photo: data.getUserInfo.data.photo\n            }\n          });else this.logOut();\n\n        if (data.getTypes.success) {\n          // getTypes\n          let __types = [];\n          let __counter = 0;\n          data.getTypes.data.types.map(type => {\n            __types.push( /*#__PURE__*/_jsxDEV(\"option\", {\n              value: __counter,\n              children: [\" \", type, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 39\n            }, this));\n\n            __counter++;\n          });\n          this.setState({\n            types: __types\n          });\n        }\n\n        if (data.getCategories.success) {\n          let __categories = [];\n          let __counter = 1;\n          data.getCategories.data.categories.map(c => {\n            __counter++;\n          });\n        }\n      }\n    });\n  }\n\n  logOut() {\n    Cookies.remove('data', {\n      path: '',\n      domain: 'localhost'\n    });\n    this.props.props.history.push({\n      pathname: '/auth'\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"main-ul\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"Sources/images/logo.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"UserHeader\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"UserHeaderMain\",\n              className: \"user-header-main\",\n              ref: this.box,\n              onClick: () => this.showMore(),\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"user-name\",\n                value: this.state.me.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"user-picture\",\n                src: this.state.me.photo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"UserHeaderMore\",\n              className: \"user-header-more\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"button-profile\",\n                value: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"button-logout\",\n                onClick: () => this.logOut(),\n                value: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"LK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\n;\nexport default LK;","map":{"version":3,"sources":["D:/Files/Projects/- WEB/TravelersDream/front/src/Components/Lk.js"],"names":["React","Component","Cookies","request","requests","uploadFiles","getToken","LK","constructor","props","state","me","username","photo","update","heys","then","res","success","data","result","getUserInfo","setState","name","logOut","getTypes","__types","__counter","types","map","type","push","getCategories","__categories","categories","c","remove","path","domain","history","pathname","render","box","showMore"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport {request, requests, uploadFiles, getToken} from './requests';\r\n\r\nclass LK extends Component {\r\n    constructor (props) {\r\n        super (props);\r\n        this.state = {\r\n            me: {username: '', photo: 'http://dream/profilepictures/0.png'}\r\n        };\r\n        this.update();\r\n    };\r\n\r\n    update() {\r\n        requests({\r\n            'getUserInfo': {heys: ['name', 'photo']},\r\n            'getTypes': {},\r\n            'getCategories': {}\r\n        }, { 'token': getToken() }).then(res => {\r\n            if (res.success) {\r\n                let data = res.result;\r\n                if (data.getUserInfo.success) // getUserInfo\r\n                    this.setState({\r\n                        me: {\r\n                            username: data.getUserInfo.data.name,\r\n                            photo: data.getUserInfo.data.photo\r\n                        }\r\n                    });\r\n                else this.logOut();\r\n                \r\n                if (data.getTypes.success) { // getTypes\r\n                    let __types = [];\r\n                    let __counter = 0;\r\n                    data.getTypes.data.types.map(type => {\r\n                        __types.push( <option value={__counter}> {type} </option> );\r\n                        __counter ++;\r\n                    });\r\n                    this.setState({ types: __types });\r\n                }\r\n\r\n                if (data.getCategories.success) {\r\n                    let __categories = [];\r\n                    let __counter = 1;\r\n                    data.getCategories.data.categories.map(c => {\r\n                        __counter ++;\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    logOut() {\r\n        Cookies.remove('data', {\r\n            path: '',\r\n            domain: 'localhost'\r\n        });\r\n        this.props.props.history.push({ pathname: '/auth' });\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n        <>\r\n            <header>\r\n                <ul className='main-ul'>\r\n                    <li id='Logo'><img src=\"Sources/images/logo.png\" alt='' /></li>\r\n                    <li id='UserHeader'>\r\n                        <div id='UserHeaderMain' className='user-header-main' ref={this.box} onClick={() => this.showMore()}>\r\n                            <p className='user-name' value={this.state.me.username} />\r\n                            <img className='user-picture' src={this.state.me.photo} />\r\n                        </div>\r\n                        <div id='UserHeaderMore' className='user-header-more'>\r\n                            <a className='button-profile' value='Профиль'/>\r\n                            <a className='button-logout' onClick={() => this.logOut()} value='Выйти'/>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n            <div id=\"LK\">\r\n            </div>    \r\n        </>\r\n        );\r\n    }\r\n};\r\n\r\nexport default LK;"]},"metadata":{},"sourceType":"module"}