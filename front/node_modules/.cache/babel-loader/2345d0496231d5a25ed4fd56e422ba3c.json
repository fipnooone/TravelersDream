{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Projects\\\\- WEB\\\\TravelersDream\\\\dream\\\\src\\\\Components\\\\lk.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass LK extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOutsideClick = event => {\n      console.log(this.box.current !== null);\n      if (this.box && this.box.current !== null && !this.box.current.contains(event.target)) this.showMore();\n    };\n\n    this.state = {\n      username: \"\",\n      type: \"\"\n    };\n    this.box = /*#__PURE__*/React.createRef();\n    this.getUserInfo();\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.handleOutsideClick);\n  }\n\n  showMore() {\n    if (window.getComputedStyle(document.getElementById(\"UserHeaderMore\")).getPropertyValue(\"visibility\") === 'hidden') document.getElementById(\"UserHeaderMore\").style.visibility = 'visible';else document.getElementById(\"UserHeaderMore\").style.visibility = 'hidden';\n  }\n\n  logOut() {\n    Cookies.remove('data', {\n      path: '',\n      domain: 'localhost'\n    });\n    this.props.props.history.push({\n      pathname: '/auth'\n    });\n  }\n\n  getUserInfo() {\n    let formData = new FormData();\n    formData.append(\"method\", \"getUserInfo\");\n    formData.append(\"data\", JSON.stringify({\n      \"token\": JSON.parse(Cookies.get(\"data\")).token,\n      \"keys\": [\"name\", \"type\"]\n    }));\n    axios.post(\"http://dream\", formData).then(res => {\n      if (res.data.success) {\n        this.setState({\n          username: res.data.data.name,\n          type: res.data.data.type\n        });\n      } else {\n        this.logOut();\n      }\n    }).catch(err => {\n      this.logOut();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"main-ul\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"Sources/images/logo.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"UserHeader\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-header-main\",\n              id: \"UserHeaderMain\",\n              ref: this.box,\n              onClick: () => this.showMore(),\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"user-name\",\n                children: this.state.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"user-picture\",\n                src: \"https://sun9-23.userapi.com/impf/c841620/v841620403/490eb/zItnetFWIFk.jpg?size=1400x1400&quality=96&sign=0446a1597c5552ce180e856f50533805\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-header-more\",\n              id: \"UserHeaderMore\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"button-profile\",\n                children: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"button-logout\",\n                onClick: () => this.logOut(),\n                children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selection-shadow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"LK\",\n        children: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n/*\r\n<li id=\"UserHeader\">\r\n                        <ul className=\"user-header-ul\">\r\n                            <li className=\"user-name\"><p>{this.state.username}</p></li>\r\n                            <li className=\"user-picture\"><img src=\"https://randus.org/photos/w/c793b9797c7d3810.jpg\" alt=\"\" /></li>\r\n                        </ul>\r\n                        <a className=\"button button-logout\" onClick={() => this.logOut() }>Выйти</a>\r\n                        <div className=\"selection-shadow\"></div>\r\n                    </li> */\n//onClick={this.setState({ currAction: false })}\n\n\nexport default LK;","map":{"version":3,"sources":["D:/Files/Projects/- WEB/TravelersDream/dream/src/Components/lk.js"],"names":["React","Component","axios","Cookies","LK","constructor","props","handleOutsideClick","event","console","log","box","current","contains","target","showMore","state","username","type","createRef","getUserInfo","componentDidMount","document","addEventListener","window","getComputedStyle","getElementById","getPropertyValue","style","visibility","logOut","remove","path","domain","history","push","pathname","formData","FormData","append","JSON","stringify","parse","get","token","post","then","res","data","success","setState","name","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;;AAEA,MAAMC,EAAN,SAAiBH,SAAjB,CAA2B;AACvBI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,kBAVmB,GAUGC,KAAD,IAAW;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,GAAL,CAASC,OAAT,KAAqB,IAAjC;AACA,UAAI,KAAKD,GAAL,IAAY,KAAKA,GAAL,CAASC,OAAT,KAAqB,IAAjC,IAAyC,CAAC,KAAKD,GAAL,CAASC,OAAT,CAAiBC,QAAjB,CAA0BL,KAAK,CAACM,MAAhC,CAA9C,EAAuF,KAAKC,QAAL;AAC1F,KAbkB;;AAEf,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,IAAI,EAAE;AAFG,KAAb;AAIA,SAAKP,GAAL,gBAAWX,KAAK,CAACmB,SAAN,EAAX;AACA,SAAKC,WAAL;AACH;;AACDC,EAAAA,iBAAiB,GAAG;AAAEC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKhB,kBAAxC;AAA8D;;AAKpFQ,EAAAA,QAAQ,GAAG;AACP,QAAIS,MAAM,CAACC,gBAAP,CAAwBH,QAAQ,CAACI,cAAT,CAAwB,gBAAxB,CAAxB,EAAmEC,gBAAnE,CAAoF,YAApF,MAAsG,QAA1G,EACIL,QAAQ,CAACI,cAAT,CAAwB,gBAAxB,EAA0CE,KAA1C,CAAgDC,UAAhD,GAA6D,SAA7D,CADJ,KAGIP,QAAQ,CAACI,cAAT,CAAwB,gBAAxB,EAA0CE,KAA1C,CAAgDC,UAAhD,GAA6D,QAA7D;AACP;;AACDC,EAAAA,MAAM,GAAG;AACL3B,IAAAA,OAAO,CAAC4B,MAAR,CAAe,MAAf,EAAuB;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAAvB;AACA,SAAK3B,KAAL,CAAWA,KAAX,CAAiB4B,OAAjB,CAAyBC,IAAzB,CAA8B;AAC1BC,MAAAA,QAAQ,EAAE;AADgB,KAA9B;AAGH;;AACDhB,EAAAA,WAAW,GAAG;AACV,QAAIiB,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,aAA1B;AACAF,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBC,IAAI,CAACC,SAAL,CAAe;AACnC,eAASD,IAAI,CAACE,KAAL,CAAWvC,OAAO,CAACwC,GAAR,CAAY,MAAZ,CAAX,EAAgCC,KADN;AAEnC,cAAQ,CAAC,MAAD,EAAS,MAAT;AAF2B,KAAf,CAAxB;AAIA1C,IAAAA,KAAK,CAAC2C,IAAN,CAAW,cAAX,EAA2BR,QAA3B,EAAqCS,IAArC,CAA0CC,GAAG,IAAI;AAC7C,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsB;AAClB,aAAKC,QAAL,CAAc;AACVjC,UAAAA,QAAQ,EAAE8B,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcG,IADd;AAEVjC,UAAAA,IAAI,EAAE6B,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAc9B;AAFV,SAAd;AAIH,OALD,MAMK;AACD,aAAKY,MAAL;AACH;AACJ,KAVD,EAWCsB,KAXD,CAWOC,GAAG,IAAI;AACV,WAAKvB,MAAL;AACH,KAbD;AAcH;;AACDwB,EAAAA,MAAM,GAAG;AACL,wBACA;AAAA,8BACI;AAAA,+BACI;AAAI,UAAA,SAAS,EAAC,SAAd;AAAA,kCACI;AAAI,YAAA,EAAE,EAAC,MAAP;AAAA,mCAAc;AAAK,cAAA,GAAG,EAAC,yBAAT;AAAmC,cAAA,GAAG,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA;AAAd;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAI,YAAA,EAAE,EAAC,YAAP;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAkC,cAAA,EAAE,EAAC,gBAArC;AAAsD,cAAA,GAAG,EAAE,KAAK3C,GAAhE;AAAqE,cAAA,OAAO,EAAE,MAAM,KAAKI,QAAL,EAApF;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAC,WAAb;AAAA,0BAA0B,KAAKC,KAAL,CAAWC;AAArC;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,SAAS,EAAC,cAAf;AAA8B,gBAAA,GAAG,EAAC,2IAAlC;AAA8K,gBAAA,GAAG,EAAC;AAAlL;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAKI;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAkC,cAAA,EAAE,EAAC,gBAArC;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAG,gBAAA,SAAS,EAAC,eAAb;AAA6B,gBAAA,OAAO,EAAE,MAAM,KAAKa,MAAL,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eASI;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAiBI;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBJ;AAAA,oBADA;AAuBH;;AAzEsB;AA2E3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAe1B,EAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nclass LK extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            type: \"\"\r\n        };\r\n        this.box = React.createRef();\r\n        this.getUserInfo();\r\n    };\r\n    componentDidMount() { document.addEventListener('click', this.handleOutsideClick); }\r\n    handleOutsideClick = (event) => {\r\n        console.log(this.box.current !== null)\r\n        if (this.box && this.box.current !== null && !this.box.current.contains(event.target)) this.showMore();\r\n    }\r\n    showMore() {\r\n        if (window.getComputedStyle(document.getElementById(\"UserHeaderMore\")).getPropertyValue(\"visibility\") === 'hidden')\r\n            document.getElementById(\"UserHeaderMore\").style.visibility = 'visible';\r\n        else\r\n            document.getElementById(\"UserHeaderMore\").style.visibility = 'hidden';\r\n    }\r\n    logOut() {\r\n        Cookies.remove('data', { path: '', domain: 'localhost' });\r\n        this.props.props.history.push({\r\n            pathname: '/auth'\r\n        })\r\n    };\r\n    getUserInfo() {\r\n        let formData = new FormData();\r\n        formData.append(\"method\", \"getUserInfo\");\r\n        formData.append(\"data\", JSON.stringify({\r\n            \"token\": JSON.parse(Cookies.get(\"data\")).token,\r\n            \"keys\": [\"name\", \"type\"]\r\n        }));\r\n        axios.post(\"http://dream\", formData).then(res => {\r\n            if (res.data.success) {\r\n                this.setState({\r\n                    username: res.data.data.name,\r\n                    type: res.data.data.type,\r\n                });\r\n            }\r\n            else {\r\n                this.logOut();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.logOut();\r\n        });\r\n    };\r\n    render() {\r\n        return (\r\n        <>\r\n            <header>\r\n                <ul className=\"main-ul\">\r\n                    <li id=\"Logo\"><img src=\"Sources/images/logo.png\" alt=\"\"/></li>\r\n                    <li id=\"UserHeader\">\r\n                        <div className=\"user-header-main\" id=\"UserHeaderMain\" ref={this.box} onClick={() => this.showMore() }>\r\n                            <p className=\"user-name\">{this.state.username}</p>\r\n                            <img className=\"user-picture\" src=\"https://sun9-23.userapi.com/impf/c841620/v841620403/490eb/zItnetFWIFk.jpg?size=1400x1400&quality=96&sign=0446a1597c5552ce180e856f50533805\" alt=\"\" />\r\n                        </div>\r\n                        <div className=\"user-header-more\" id=\"UserHeaderMore\">\r\n                            <a className=\"button-profile\" >Профиль</a>\r\n                            <a className=\"button-logout\" onClick={() => this.logOut() }>Выйти</a>\r\n                        </div>\r\n                        <div className=\"selection-shadow\"></div>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n            <div id=\"LK\">\r\n                Личный Кабинет\r\n            </div>\r\n        </>\r\n        );\r\n    };\r\n}\r\n/*\r\n<li id=\"UserHeader\">\r\n                        <ul className=\"user-header-ul\">\r\n                            <li className=\"user-name\"><p>{this.state.username}</p></li>\r\n                            <li className=\"user-picture\"><img src=\"https://randus.org/photos/w/c793b9797c7d3810.jpg\" alt=\"\" /></li>\r\n                        </ul>\r\n                        <a className=\"button button-logout\" onClick={() => this.logOut() }>Выйти</a>\r\n                        <div className=\"selection-shadow\"></div>\r\n                    </li> */\r\n//onClick={this.setState({ currAction: false })}\r\nexport default LK;"]},"metadata":{},"sourceType":"module"}