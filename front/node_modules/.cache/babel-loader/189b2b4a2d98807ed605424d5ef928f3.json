{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Projects\\\\- WEB\\\\TravelersDream\\\\dream\\\\src\\\\Components\\\\lk.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass LK extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\"\n    };\n  }\n\n  logOut() {\n    Cookies.remove('data', {\n      path: '',\n      domain: 'localhost'\n    });\n    this.props.props.history.push({\n      pathname: '/auth'\n    });\n  }\n\n  getUserName() {\n    let formData = new FormData();\n    formData.append(\"method\", \"getUserName\");\n    formData.append(\"data\", JSON.stringify({\n      \"token\": JSON.parse(Cookies.get(\"data\")).token\n    }));\n    axios.post(\"http://dream\", formData).then(res => {\n      if (res.data.success) {\n        this.setState({\n          username: res.data.username\n        });\n        console.log(res.data);\n      } else {\n        this.logOut();\n      }\n    }).catch(err => {\n      this.logOut(); //this.changeText(\"Произошла ошибка при подключении к серверу\");\n    });\n    /**/\n  }\n\n  render() {\n    this.getUserName();\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"Sources/images/logo.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Auth\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"button button-login\",\n              children: this.state.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"button button-register\",\n              onClick: () => this.logOut(),\n              children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selection-shadow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"LK\",\n        children: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n} //onClick={this.setState({ currAction: false })}\n\n\nexport default LK;","map":{"version":3,"sources":["D:/Files/Projects/- WEB/TravelersDream/dream/src/Components/lk.js"],"names":["React","Component","axios","Cookies","LK","constructor","props","state","username","logOut","remove","path","domain","history","push","pathname","getUserName","formData","FormData","append","JSON","stringify","parse","get","token","post","then","res","data","success","setState","console","log","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;;AAEA,MAAMC,EAAN,SAAiBH,SAAjB,CAA2B;AACvBI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH;;AACDC,EAAAA,MAAM,GAAG;AACLN,IAAAA,OAAO,CAACO,MAAR,CAAe,MAAf,EAAuB;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAAvB;AACA,SAAKN,KAAL,CAAWA,KAAX,CAAiBO,OAAjB,CAAyBC,IAAzB,CAA8B;AAC1BC,MAAAA,QAAQ,EAAE;AADgB,KAA9B;AAGH;;AACDC,EAAAA,WAAW,GAAG;AACV,QAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,aAA1B;AACAF,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBC,IAAI,CAACC,SAAL,CAAe;AACnC,eAASD,IAAI,CAACE,KAAL,CAAWnB,OAAO,CAACoB,GAAR,CAAY,MAAZ,CAAX,EAAgCC;AADN,KAAf,CAAxB;AAGAtB,IAAAA,KAAK,CAACuB,IAAN,CAAW,cAAX,EAA2BR,QAA3B,EAAqCS,IAArC,CAA0CC,GAAG,IAAI;AAC7C,UAAIA,GAAG,CAACC,IAAJ,CAASC,OAAb,EAAsB;AAClB,aAAKC,QAAL,CAAc;AAAEtB,UAAAA,QAAQ,EAAEmB,GAAG,CAACC,IAAJ,CAASpB;AAArB,SAAd;AACAuB,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACC,IAAhB;AACH,OAHD,MAIK;AACD,aAAKnB,MAAL;AACH;AACJ,KARD,EASCwB,KATD,CASOC,GAAG,IAAI;AACV,WAAKzB,MAAL,GADU,CAEV;AACH,KAZD;AAaA;AACH;;AACD0B,EAAAA,MAAM,GAAG;AACL,SAAKnB,WAAL;AACA,wBACA;AAAA,8BACI;AAAA,+BACI;AAAA,kCACI;AAAI,YAAA,EAAE,EAAC,MAAP;AAAA,mCAAc;AAAK,cAAA,GAAG,EAAC,yBAAT;AAAmC,cAAA,GAAG,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA;AAAd;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAI,YAAA,EAAE,EAAC,MAAP;AAAA,oCACQ;AAAG,cAAA,SAAS,EAAC,qBAAb;AAAA,wBAAqC,KAAKT,KAAL,CAAWC;AAAhD;AAAA;AAAA;AAAA;AAAA,oBADR,eAEQ;AAAG,cAAA,SAAS,EAAC,wBAAb;AAAsC,cAAA,OAAO,EAAE,MAAM,KAAKC,MAAL,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFR,eAGQ;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAHR;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA,oBADA;AAiBH;;AArDsB,C,CAuD3B;;;AACA,eAAeL,EAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nclass LK extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\"\r\n        };\r\n    };\r\n    logOut() {\r\n        Cookies.remove('data', { path: '', domain: 'localhost' });\r\n        this.props.props.history.push({\r\n            pathname: '/auth'\r\n        })\r\n    };\r\n    getUserName() {\r\n        let formData = new FormData();\r\n        formData.append(\"method\", \"getUserName\");\r\n        formData.append(\"data\", JSON.stringify({\r\n            \"token\": JSON.parse(Cookies.get(\"data\")).token,\r\n        }));\r\n        axios.post(\"http://dream\", formData).then(res => {\r\n            if (res.data.success) {\r\n                this.setState({ username: res.data.username });\r\n                console.log(res.data);\r\n            }\r\n            else {\r\n                this.logOut();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.logOut();\r\n            //this.changeText(\"Произошла ошибка при подключении к серверу\");\r\n        });\r\n        /**/\r\n    };\r\n    render() {\r\n        this.getUserName()\r\n        return (\r\n        <>\r\n            <header>\r\n                <ul>\r\n                    <li id=\"Logo\"><img src=\"Sources/images/logo.png\" alt=\"\"/></li>\r\n                    <li id=\"Auth\">\r\n                            <a className=\"button button-login\" >{this.state.username}</a>\r\n                            <a className=\"button button-register\" onClick={() => this.logOut() }>Выйти</a>\r\n                            <div className=\"selection-shadow\"></div>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n            <div id=\"LK\">\r\n                Личный Кабинет\r\n            </div>\r\n        </>\r\n        );\r\n    };\r\n}\r\n//onClick={this.setState({ currAction: false })}\r\nexport default LK;"]},"metadata":{},"sourceType":"module"}