{"ast":null,"code":"var _jsxFileName = \"D:\\\\Files\\\\Projects\\\\- WEB\\\\TravelersDream\\\\dream\\\\src\\\\Components\\\\lk.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass LK extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      type: \"\"\n    };\n    this.getUserInfo();\n  }\n\n  logOut() {\n    Cookies.remove('data', {\n      path: '',\n      domain: 'localhost'\n    });\n    this.props.props.history.push({\n      pathname: '/auth'\n    });\n  }\n\n  getUserInfo() {\n    let formData = new FormData();\n    formData.append(\"method\", \"getUserInfo\");\n    formData.append(\"data\", JSON.stringify({\n      \"token\": JSON.parse(Cookies.get(\"data\")).token,\n      \"keys\": [\"name\", \"type\"]\n    }));\n    axios.post(\"http://dream\", formData).then(res => {\n      if (res.data.success) {\n        this.setState({\n          username: res.data.data.name,\n          type: res.data.data.type\n        });\n      } else {\n        this.logOut();\n      }\n    }).catch(err => {\n      this.logOut();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"main-ul\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"Logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"Sources/images/logo.png\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 35\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            id: \"UserHeader\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"user-name\",\n              children: this.state.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"user-picture\",\n              src: \"https://randus.org/photos/w/c793b9797c7d3810.jpg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"button button-logout\",\n              onClick: () => this.logOut(),\n              children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selection-shadow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"LK\",\n        children: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n/*\r\n<li id=\"UserHeader\">\r\n                        <ul className=\"user-header-ul\">\r\n                            <li className=\"user-name\"><p>{this.state.username}</p></li>\r\n                            <li className=\"user-picture\"><img src=\"https://randus.org/photos/w/c793b9797c7d3810.jpg\" alt=\"\" /></li>\r\n                        </ul>\r\n                        <a className=\"button button-logout\" onClick={() => this.logOut() }>Выйти</a>\r\n                        <div className=\"selection-shadow\"></div>\r\n                    </li> */\n//onClick={this.setState({ currAction: false })}\n\n\nexport default LK;","map":{"version":3,"sources":["D:/Files/Projects/- WEB/TravelersDream/dream/src/Components/lk.js"],"names":["React","Component","axios","Cookies","LK","constructor","props","state","username","type","getUserInfo","logOut","remove","path","domain","history","push","pathname","formData","FormData","append","JSON","stringify","parse","get","token","post","then","res","data","success","setState","name","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nclass LK extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            type: \"\"\r\n        };\r\n        this.getUserInfo();\r\n    };\r\n    logOut() {\r\n        Cookies.remove('data', { path: '', domain: 'localhost' });\r\n        this.props.props.history.push({\r\n            pathname: '/auth'\r\n        })\r\n    };\r\n    getUserInfo() {\r\n        let formData = new FormData();\r\n        formData.append(\"method\", \"getUserInfo\");\r\n        formData.append(\"data\", JSON.stringify({\r\n            \"token\": JSON.parse(Cookies.get(\"data\")).token,\r\n            \"keys\": [\"name\", \"type\"]\r\n        }));\r\n        axios.post(\"http://dream\", formData).then(res => {\r\n            if (res.data.success) {\r\n                this.setState({\r\n                    username: res.data.data.name,\r\n                    type: res.data.data.type,\r\n                });\r\n            }\r\n            else {\r\n                this.logOut();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            this.logOut();\r\n        });\r\n    };\r\n    render() {\r\n        return (\r\n        <>\r\n            <header>\r\n                <ul className=\"main-ul\">\r\n                    <li id=\"Logo\"><img src=\"Sources/images/logo.png\" alt=\"\"/></li>\r\n                    <li id=\"UserHeader\">\r\n                        <p className=\"user-name\">{this.state.username}</p>\r\n                        <img className=\"user-picture\" src=\"https://randus.org/photos/w/c793b9797c7d3810.jpg\" alt=\"\" />\r\n                        <a className=\"button button-logout\" onClick={() => this.logOut() }>Выйти</a>\r\n                        <div className=\"selection-shadow\"></div>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n            <div id=\"LK\">\r\n                Личный Кабинет\r\n            </div>\r\n        </>\r\n        );\r\n    };\r\n}\r\n/*\r\n<li id=\"UserHeader\">\r\n                        <ul className=\"user-header-ul\">\r\n                            <li className=\"user-name\"><p>{this.state.username}</p></li>\r\n                            <li className=\"user-picture\"><img src=\"https://randus.org/photos/w/c793b9797c7d3810.jpg\" alt=\"\" /></li>\r\n                        </ul>\r\n                        <a className=\"button button-logout\" onClick={() => this.logOut() }>Выйти</a>\r\n                        <div className=\"selection-shadow\"></div>\r\n                    </li> */\r\n//onClick={this.setState({ currAction: false })}\r\nexport default LK;"]},"metadata":{},"sourceType":"module"}