{"ast":null,"code":"import _slicedToArray from\"D:/Files/Projects/- WEB/TravelersDream/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"D:/Files/Projects/- WEB/TravelersDream/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Files/Projects/- WEB/TravelersDream/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Files/Projects/- WEB/TravelersDream/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Files/Projects/- WEB/TravelersDream/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Cookies from'js-cookie';import{request,requests,uploadFiles,getToken}from'./requests';import readXlsx from'read-excel-file';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LK=/*#__PURE__*/function(_Component){_inherits(LK,_Component);var _super=_createSuper(LK);function LK(props){var _this;_classCallCheck(this,LK);_this=_super.call(this,props);_this.handleOutsideClick=function(event){if(_this.box&&_this.box.current!==null&&!_this.box.current.contains(event.target)){if(window.getComputedStyle(document.getElementById(\"UserHeaderMore\")).getPropertyValue(\"visibility\")==='visible')document.getElementById(\"UserHeaderMore\").style.visibility='hidden';}};_this.state={me:{username:'',photo:'http://dream/profilepictures/0.png'},blocks:{categories:[],types:[],branches:[],list:[],createNewPanel:/*#__PURE__*/_jsx(\"div\",{id:\"LKMIB-CNew\",className:\"create-new\",children:\" \"}),inputXlsx:/*#__PURE__*/_jsx(_Fragment,{}),searchBox:/*#__PURE__*/_jsx(_Fragment,{})},currCP:{action:3,type:'',photo:undefined,data:{}},currList:''};_this.update();return _this;}_createClass(LK,[{key:\"mib\",value:function mib(){document.getElementById(\"LKMIB\").style.visibility=\"hidden\";document.getElementById(\"LKMIB-CNew\").style.animation=\"hideToDown 0.3s\";document.getElementById(\"LKMIB-CNew\").style.visibility=\"hidden\";document.getElementById(\"LKMIB-CNew\").style.opacity=\"0\";this.setBlocks({createNewPanel:/*#__PURE__*/_jsx(\"div\",{id:\"LKMIB-CNew\",className:\"create-new\",children:\" \"})});}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('click',this.handleOutsideClick);}},{key:\"showMore\",value:function showMore(){if(window.getComputedStyle(document.getElementById(\"UserHeaderMore\")).getPropertyValue(\"visibility\")==='hidden')document.getElementById(\"UserHeaderMore\").style.visibility='visible';else document.getElementById(\"UserHeaderMore\").style.visibility='hidden';}},{key:\"uploadXlsx\",value:function uploadXlsx(l,file){var _this2=this;if(l==='users'){var schema={'ФИО':{prop:'fio',type:String,required:true},'Дата рождения':{prop:'bdate',type:function type(v){return\"\".concat(v.getFullYear(),\"-\").concat(v.getMonth()+1,\"-\").concat(v.getDate());}},'Тип':{prop:'type',type:function type(v){switch(v){case'Агент':return 3;case'Менеджер':return 2;case'Бухгалтер':return 4;case'Администратор':return 1;default:return 0;}}},'Филиал':{prop:'branch',type:Number}};readXlsx(file,{schema:schema}).then(function(_ref){var rows=_ref.rows,errors=_ref.errors;request('createUser',{token:getToken(),users:rows}).then(function(res){if(res.success)_this2.update(_this2.state.currList);});});}else if(l==='clients'){var _schema={'ФИО':{prop:'fio',type:String,required:true},'Дата рождения':{prop:'bdate',type:function type(v){return\"\".concat(v.getFullYear(),\"-\").concat(v.getMonth()+1,\"-\").concat(v.getDate());}},'Статус':{prop:'status',type:function type(v){switch(v){case'Обычный':return 0;case'Привилегированный':return 1;case'VIP':return 2;default:return 0;}}},'Серия':{prop:'passport_series',type:Number},'Номер':{prop:'passport_number',type:Number},'Дата выдачи':{prop:'issue_date',type:function type(v){return\"\".concat(v.getFullYear(),\"-\").concat(v.getMonth()+1,\"-\").concat(v.getDate());}},'Орган, выдавший документ':{prop:'issuing_authority',type:String}};readXlsx(file,{schema:_schema}).then(function(_ref2){var rows=_ref2.rows,errors=_ref2.errors;request('createClient',{token:getToken(),clients:rows}).then(function(res){if(res.success)_this2.update(_this2.state.currList);});});}}},{key:\"setListOf\",value:function setListOf(l){var _this3=this;request('getListOf',{token:getToken(),list:l}).then(function(res){if(!res.data.success)return;var __blocks=[];if(l==='clients'||l==='users')_this3.setBlocks({inputXlsx:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{id:\"fileInputXlsx\",type:\"file\",accept:\".xlsx\",onChange:function onChange(e){_this3.uploadXlsx(_this3.state.currList,e.target.files[0]);}}),/*#__PURE__*/_jsx(\"svg\",{className:\"upload-button svg-icon\",viewBox:\"0 0 20 20\",onClick:function onClick(){return document.getElementById(\"fileInputXlsx\").click();},children:/*#__PURE__*/_jsx(\"path\",{fill:\"#fff\",d:\"M8.416,3.943l1.12-1.12v9.031c0,0.257,0.208,0.464,0.464,0.464c0.256,0,0.464-0.207,0.464-0.464V2.823l1.12,1.12c0.182,0.182,0.476,0.182,0.656,0c0.182-0.181,0.182-0.475,0-0.656l-1.744-1.745c-0.018-0.081-0.048-0.16-0.112-0.224C10.279,1.214,10.137,1.177,10,1.194c-0.137-0.017-0.279,0.02-0.384,0.125C9.551,1.384,9.518,1.465,9.499,1.548L7.76,3.288c-0.182,0.181-0.182,0.475,0,0.656C7.941,4.125,8.234,4.125,8.416,3.943z M15.569,6.286h-2.32v0.928h2.32c0.512,0,0.928,0.416,0.928,0.928v8.817c0,0.513-0.416,0.929-0.928,0.929H4.432c-0.513,0-0.928-0.416-0.928-0.929V8.142c0-0.513,0.416-0.928,0.928-0.928h2.32V6.286h-2.32c-1.025,0-1.856,0.831-1.856,1.856v8.817c0,1.025,0.832,1.856,1.856,1.856h11.138c1.024,0,1.855-0.831,1.855-1.856V8.142C17.425,7.117,16.594,6.286,15.569,6.286z\"})})]})});else _this3.setBlocks({inputXlsx:/*#__PURE__*/_jsx(_Fragment,{})});var __think=function __think(t,u){switch(t){case'clients':var __status=u.status==='0'?'Обычный':u.status==='1'?'Привилегированный':u.status==='2'?'VIP':'';return/*#__PURE__*/_jsx(\"div\",{className:\"not-enought\",onClick:function onClick(){_this3.showCreatePanel(1,l,{id:u.id,name:u.name,fio:u.fio,bdate:u.bdate,issue_date:u.issue_date,issuing_authority:u.issuing_authority,passport_number:u.passport_number,passport_series:u.passport_series,status:u.status});},children:/*#__PURE__*/_jsxs(\"div\",{className:\"u-info-nt\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"u-name u-text\",children:u.fio}),/*#__PURE__*/_jsx(\"p\",{className:\"u-type u-text\",children:__status})]})});case'contracts':return/*#__PURE__*/_jsx(\"div\",{className:\"not-enought\",onClick:function onClick(){_this3.showCreatePanel(1,l,{id:u.id,name:u.name});}});case'payments':return/*#__PURE__*/_jsx(\"div\",{className:\"not-enought\",onClick:function onClick(){_this3.showCreatePanel(1,l,{id:u.id,name:u.name});}});case'users':return/*#__PURE__*/_jsxs(\"div\",{className:\"not-enought\",onClick:function onClick(){_this3.showCreatePanel(1,l,{id:u.id,name:u.name,fio:u.fio,bdate:u.bdate,type:u.typeid-1,branch:u.branch-1,photo:u.photo});},children:[/*#__PURE__*/_jsx(\"img\",{className:\"u-picture\",src:u.photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"u-info-nt\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"u-name u-text\",children:u.name}),/*#__PURE__*/_jsx(\"p\",{className:\"u-type u-text\",children:u.type})]})]});case'usertypes':return/*#__PURE__*/_jsx(\"div\",{className:\"not-enought\",onClick:function onClick(){_this3.showCreatePanel(1,l,{id:u.id,type:u.type,permissions:u.permissions});},children:/*#__PURE__*/_jsx(\"div\",{className:\"u-info-nt\",children:/*#__PURE__*/_jsx(\"p\",{className:\"u-name u-text\",children:u.type})})});case'branches':return/*#__PURE__*/_jsx(\"div\",{className:\"not-enought\",onClick:function onClick(){_this3.showCreatePanel(1,l,{id:u.id,name:u.name});},children:/*#__PURE__*/_jsx(\"div\",{className:\"u-info-nt\",children:/*#__PURE__*/_jsx(\"p\",{className:\"u-name u-text\",children:u.name})})});default:return/*#__PURE__*/_jsx(\"div\",{className:\"not-enought\"});}};res.data.data.list.map(function(u){__blocks.push(__think(l,u));});_this3.setBlocks({list:__blocks});var __currList=document.getElementById(\"cat\".concat(_this3.state.currList));if(__currList)__currList.style.backgroundColor='';document.getElementById(\"cat\".concat(l)).style.backgroundColor='#2c2c34';_this3.setState({currList:l});});}},{key:\"setBlocks\",value:function setBlocks(block,cb){if(!cb)this.setState(function(prevState){return{blocks:Object.assign(prevState.blocks,block)};});else this.setState(function(prevState){return{blocks:Object.assign(prevState.blocks,block)};},cb);}},{key:\"update\",value:function update(category){var _this4=this;requests({'getUserInfo':{keys:['name','photo']},'getTypes':{},'getBranches':{},'getCategories':{}},{'token':getToken()}).then(function(res){if(res.success){var data=res.result;if(data.getUserInfo.success)// getUserInfo\n_this4.setState({me:{username:data.getUserInfo.data.name,photo:data.getUserInfo.data.photo}});else _this4.logOut();if(data.getTypes.success){// getTypes\nvar __types=[];var __counter=0;data.getTypes.data.types.map(function(type){__types.push(/*#__PURE__*/_jsxs(\"option\",{value:__counter,children:[\" \",type,\" \"]}));__counter++;});_this4.setBlocks({types:__types});}if(data.getBranches.success){// getBranches\nvar __branches=[];var _counter=0;data.getBranches.data.branches.map(function(branch){__branches.push(/*#__PURE__*/_jsxs(\"option\",{value:_counter,children:[\" \",branch,\" \"]}));_counter++;});_this4.setBlocks({branches:__branches});}if(data.getCategories.success){// getCategories\nvar __categories=[];var _counter2=1;var __getName=function __getName(cat){switch(cat){case'clients':return'Клиенты';case'contracts':return'Договоры';case'payments':return'Платежи';case'users':return'Пользователи';case'usertypes':return'Типы пользователей';case'branches':return'Филиалы';default:return'';}};data.getCategories.data.categories.map(function(c){if(!category&&_counter2===1)_this4.setListOf(c);__categories.push(/*#__PURE__*/_jsxs(\"p\",{id:\"cat\".concat(c),className:\"cat-\".concat(_counter2),onClick:function onClick(){return _this4.setListOf(c);},children:[\" \",__getName(c),\" \"]}));_counter2++;});if(category)_this4.setListOf(category);_this4.setBlocks({categories:__categories});}}});}},{key:\"showSearchBox\",value:function showSearchBox(list){var __searchBox=/*#__PURE__*/_jsx(\"div\",{className:\"searchBox\"});this.setBlocks({searchBox:__searchBox});}},{key:\"showCreatePanel\",value:function showCreatePanel(action,type,params){var _this5=this;this.setState({currCP:{action:action,type:type,data:params}});var __getInput=function __getInput(t){switch(t){case'users':return[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-name input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0418\\u043C\\u044F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputName\",type:\"text\",defaultValue:params.name?params.name:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-fio input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0424\\u0418\\u041E \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputFIO\",type:\"text\",onChange:function onChange(e){var fio=e.target.value.split(\" \");document.getElementById(\"inputName\").value=(fio[0]?fio[0]:\"\")+(fio[1]?\" \".concat(fio[1][0],\".\"):\"\")+(fio[2]?\" \".concat(fio[2][0],\".\"):\"\");},defaultValue:params.fio?params.fio:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputBDate\",type:\"date\",defaultValue:params.bdate?params.bdate:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-type input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0424\\u0438\\u043B\\u0438\\u0430\\u043B \"}),\" \",/*#__PURE__*/_jsxs(\"select\",{id:\"selectBranch\",defaultValue:params.branch?params.branch:0,children:[\" \",_this5.state.blocks.branches,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-type input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0422\\u0438\\u043F \"}),\" \",/*#__PURE__*/_jsxs(\"select\",{id:\"selectType\",defaultValue:params.type?params.type:0,children:[\" \",_this5.state.blocks.types,\" \"]})]})]}),350,action===0?'Добавление пользователя':params.name];case'clients':return[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"tabMain\",className:\"tab tab-main\",onClick:function onClick(e){e.target.style.backgroundColor='#494850';document.getElementById('tabPassport').style.backgroundColor='#2c2c34';document.getElementById('tabMainContent').style.display='block';document.getElementById('tabPassportContent').style.display='none';},children:\"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{id:\"tabPassport\",className:\"tab tab-passport\",onClick:function onClick(e){document.getElementById('tabMain').style.backgroundColor='#2c2c34';e.target.style.backgroundColor='#494850';document.getElementById('tabMainContent').style.display='none';document.getElementById('tabPassportContent').style.display='block';},children:\"\\u041F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"tabMainContent\",className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-name input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0418\\u043C\\u044F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputName\",type:\"text\",defaultValue:params.name?params.name:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-fio input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0424\\u0418\\u041E \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputFIO\",type:\"text\",onChange:function onChange(e){var fio=e.target.value.split(' ');document.getElementById('inputName').value=(fio[0]?fio[0]:'')+(fio[1]?\" \".concat(fio[1][0],\".\"):'')+(fio[2]?\" \".concat(fio[2][0],\".\"):'');},defaultValue:params.fio?params.fio:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputBDate\",type:\"date\",defaultValue:params.bdate?params.bdate:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-type input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \"}),\" \",/*#__PURE__*/_jsxs(\"select\",{id:\"selectStatus\",defaultValue:params.status?params.status:0,children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"\\u041E\\u0431\\u044B\\u0447\\u043D\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u041F\\u0440\\u0438\\u0432\\u0438\\u043B\\u0435\\u0433\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"VIP\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"tabPassportContent\",className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-number input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0421\\u0435\\u0440\\u0438\\u044F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputpassport_series\",type:\"number\",defaultValue:params.passport_series?params.passport_series:''}),/*#__PURE__*/_jsx(\"p\",{children:\" \\u041D\\u043E\\u043C\\u0435\\u0440 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputpassport_number\",type:\"number\",defaultValue:params.passport_number?params.passport_number:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0434\\u0430\\u0447\\u0438 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputPassportIssue\",type:\"date\",defaultValue:params.issue_date?params.issue_date:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041E\\u0440\\u0433\\u0430\\u043D, \\u0432\\u044B\\u0434\\u0430\\u0432\\u0448\\u0438\\u0439 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputAuthority\",type:\"text\",defaultValue:params.issuing_authority?params.issuing_authority:''})]})]})]}),350,action===0?'Добавление клиента':''];case'contracts':return[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tabs margin-top\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"tabMain\",className:\"tab tab-main\",onClick:function onClick(e){e.target.style.backgroundColor='#494850';document.getElementById('tabTripRoute').style.backgroundColor='#2c2c34';document.getElementById('tabTripParticipants').style.backgroundColor='#2c2c34';document.getElementById('tabMainContent').style.display='block';document.getElementById('tabRouteContent').style.display='none';document.getElementById('tabParticipantsContent').style.display='none';},children:\" \\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0435 \"}),/*#__PURE__*/_jsx(\"button\",{id:\"tabTripParticipants\",className:\"tab tab-tripParticipants\",onClick:function onClick(e){e.target.style.backgroundColor='#494850';document.getElementById('tabTripRoute').style.backgroundColor='#2c2c34';document.getElementById('tabMain').style.backgroundColor='#2c2c34';document.getElementById('tabParticipantsContent').style.display='block';document.getElementById('tabRouteContent').style.display='none';document.getElementById('tabMainContent').style.display='none';},children:\" \\u0423\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u0438 \\u043F\\u043E\\u0435\\u0437\\u0434\\u043A\\u0438 \"}),/*#__PURE__*/_jsx(\"button\",{id:\"tabTripRoute\",className:\"tab tab-tripRoute\",onClick:function onClick(e){e.target.style.backgroundColor='#494850';document.getElementById('tabTripParticipants').style.backgroundColor='#2c2c34';document.getElementById('tabMain').style.backgroundColor='#2c2c34';document.getElementById('tabParticipantsContent').style.display='none';document.getElementById('tabMainContent').style.display='none';document.getElementById('tabRouteContent').style.display='block';},children:\" \\u041C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442 \\u043F\\u043E\\u0435\\u0437\\u0434\\u043A\\u0438 \"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"tabMainContent\",className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0414\\u0430\\u0442\\u0430 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputDate\",type:\"date\",defaultValue:params.Date?params.Date:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0421\\u043E\\u0433\\u043B\\u0430\\u0448\\u0435\\u043D\\u0438\\u0435 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputContract\",type:\"text\",defaultValue:params.contract?params.contract:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F \"}),\" \",/*#__PURE__*/_jsxs(\"select\",{id:\"inputOrganization\",type:\"text\",defaultValue:params.organization?params.organization:'',children:[\" \",_this5.state.blocks.branches,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0410\\u0433\\u0435\\u043D\\u0442 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputExecutor\",type:\"text\",defaultValue:params.executor?params.executor:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputClient\",type:\"text\",defaultValue:params.client?params.client:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041D\\u0430\\u0447\\u0430\\u043B\\u043E \\u043F\\u043E\\u0435\\u0437\\u0434\\u043A\\u0438 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputDateStart\",type:\"date\",defaultValue:params.tripStart?params.tripStart:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041A\\u043E\\u043D\\u0435\\u0446 \\u043F\\u043E\\u0435\\u0437\\u0434\\u043A\\u0438 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputDateEnd\",type:\"date\",defaultValue:params.tripEnd?params.tripEnd:''})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"tabParticipantsContent\",className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table-contracts\",children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"table-tr\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0424\\u0418\\u041E\"})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"table-tr-add\",children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button-add-table\",onClick:function onClick(){return _this5.showSearchBox();},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"tabRouteContent\",className:\"tab-content\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table-contracts\",children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"table-tr\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0413\\u043E\\u0440\\u043E\\u0434\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0413\\u043E\\u0441\\u0442\\u0438\\u043D\\u0438\\u0446\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0412\\u0438\\u0434 \\u043D\\u043E\\u043C\\u0435\\u0440\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"table-tr-add\",children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button-add-table\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]}),480,action===0?'Создание договора':''];case'payments':return[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-date input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0414\\u0430\\u0442\\u0430 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputDate\",type:\"date\",defaultValue:params.date?params.date:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"selectOrganization\",type:\"text\",defaultValue:params.organization?params.organization:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0414\\u043E\\u0433\\u043E\\u0432\\u043E\\u0440 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"selectContract\",type:\"text\",defaultValue:params.contract?params.contract:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0421\\u0443\\u043C\\u043C\\u0430 \\u0432 \\u0440\\u0443\\u0431\\u043B\\u044F\\u0445 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"selectAmount\",type:\"number\",defaultValue:params.amount?params.amount:''})]})]}),310,action===0?'Добавление платежа':''];case'usertypes':return[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-name input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u0422\\u0438\\u043F \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputName\",type:\"text\",defaultValue:params.type?params.type:''})]})}),230,action===0?'Создание типа пользователей':params.type];/*<div className=\"input-type input-row\">\r\n                        <p> Разрешения </p> <select id=\"selectType\" defaultValue={[]} multiple> </select>\r\n                    </div>*/case'branches':return[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-name input-row\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" \\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \"}),\" \",/*#__PURE__*/_jsx(\"input\",{id:\"inputName\",type:\"text\",defaultValue:params.name?params.name:''})]})}),180,action===0?'Создание филиала':params.name];default:return[/*#__PURE__*/_jsx(_Fragment,{}),0,''];}};var _getInput=__getInput(type),_getInput2=_slicedToArray(_getInput,3),__textInput=_getInput2[0],__height=_getInput2[1],__title=_getInput2[2];var __imageInput=type==='users'?/*#__PURE__*/_jsxs(\"div\",{className:\"image-input-block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"image-title\",children:\" \\u0424\\u043E\\u0442\\u043E \"}),/*#__PURE__*/_jsx(\"input\",{id:\"imageInput\",className:\"image-input\",type:\"image\",alt:\"\",onClick:function onClick(){return document.getElementById(\"fileInput\").click();},src:params.photo?params.photo:'http://dream/profilepictures/0.png'}),/*#__PURE__*/_jsx(\"input\",{id:\"fileInput\",type:\"file\",accept:\"image/png, image/jpeg\",onChange:function onChange(e){_this5.setState(function(prevState){return{currCP:Object.assign(prevState.currCP,{photo:e.target.files[0]})};});document.getElementById(\"imageInput\").src=window.URL.createObjectURL(e.target.files[0]);}})]}):/*#__PURE__*/_jsx(_Fragment,{});var __newCP=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"LKMIB-CNew\",className:\"create-new\",style:{height:__height},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-block\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"CNewTitle\",className:\"title-name\",children:[\" \",__title,\" \"]}),/*#__PURE__*/_jsx(\"svg\",{className:\"title-close\",viewBox:\"0 0 20 20\",onClick:function onClick(){return _this5.mib();},children:/*#__PURE__*/_jsx(\"path\",{fill:\"white\",d:\"M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-input\",children:[__textInput,/*#__PURE__*/_jsx(\"button\",{className:\"button-save\",onClick:function onClick(){var __doSomething=function __doSomething(t){var __currData={};var __query={};var __emptyCheck=function __emptyCheck(keys){var __what=true;keys.forEach(function(key){if(document.getElementById(key).value===''){__what=false;document.getElementById(key).style.backgroundColor='rgba(255, 0, 0, .1)';}else document.getElementById(key).style.backgroundColor='';});return __what;};switch(t){case'users':if(!__emptyCheck(['inputName','inputFIO','inputBDate']))return;__currData={name:document.getElementById(\"inputName\").value,fio:document.getElementById(\"inputFIO\").value,bdate:document.getElementById(\"inputBDate\").value,type:document.getElementById(\"selectType\").value,branch:document.getElementById(\"selectBranch\").value,photo:_this5.state.currCP.photo};if(_this5.state.currCP.action===1){// update\nvar __originalData=_this5.state.currCP.data;Object.keys(__originalData).map(function(key){if(__currData[key]!==__originalData[key]&&key!=='photo'&&key!=='id')if(key==='type'||key==='branch')__query[key]=+__currData[key]+1;else __query[key]=__currData[key];});if(__query!=={})uploadFiles('updateUserInfo',{token:getToken(),id:__originalData.id,keys:__query},[__currData.photo?__currData.photo:undefined]).then(function(res){_this5.update(_this5.state.currCP.type);_this5.showCreatePanel(1,_this5.state.currCP.type,Object.assign(__currData,{id:__originalData.id,photo:__currData.photo?window.URL.createObjectURL(__currData.photo):__originalData.photo}));});}else if(_this5.state.currCP.action===0){// create\nObject.keys(__currData).map(function(key){if(key==='type'||key==='branch')__query[key]=+__currData[key]+1;else if(key!=='photo')__query[key]=__currData[key];});uploadFiles(\"createUser\",{token:getToken(),keys:__query},[__currData.photo?__currData.photo:undefined]).then(function(res){_this5.update(_this5.state.currCP.type);_this5.mib();});}return;case'clients':if(!__emptyCheck(['inputName','inputFIO','inputBDate','inputpassport_series','inputpassport_number','inputPassportIssue','inputAuthority','selectStatus']))return;__currData={fio:document.getElementById(\"inputFIO\").value,name:document.getElementById(\"inputName\").value,passport_series:document.getElementById(\"inputpassport_series\").value,passport_number:document.getElementById(\"inputpassport_number\").value,issue_date:document.getElementById(\"inputPassportIssue\").value,issuing_authority:document.getElementById(\"inputAuthority\").value,status:document.getElementById(\"selectStatus\").value,bdate:document.getElementById(\"inputBDate\").value};if(_this5.state.currCP.action===1){// update\nvar _originalData=_this5.state.currCP.data;Object.keys(_originalData).map(function(key){if(__currData[key]!==_originalData[key]&&key!=='id'){__query[key]=__currData[key];}});if(__query!=={})request('updateClient',{token:getToken(),id:_originalData.id,keys:__query}).then(function(res){_this5.update(_this5.state.currCP.type);_this5.showCreatePanel(1,_this5.state.currCP.type,Object.assign(__currData,{id:_originalData.id}));});}else if(_this5.state.currCP.action===0){// create\nObject.keys(__currData).map(function(key){if(key!=='photo')__query[key]=__currData[key];});request(\"createClient\",{token:getToken(),client:__query}).then(function(res){_this5.update(_this5.state.currCP.type);_this5.mib();});}return;case'contracts':return;case'payments':return;case'usertypes':if(!__emptyCheck(['inputName']))return;__currData={name:document.getElementById('inputName').value};if(_this5.state.currCP.action===1){// update\nvar _originalData2=_this5.state.currCP.data;if(__currData.name!==_originalData2.name)request('updateType',{token:getToken(),id:_originalData2.id,name:__currData.name}).then(function(res){_this5.update(_this5.state.currCP.type);_this5.showCreatePanel(1,_this5.state.currCP.type,Object.assign({id:_originalData2.id,type:__currData.name}));});}else if(_this5.state.currCP.action===0){// create\nrequest('createType',{token:getToken(),name:__currData.name}).then(function(res){_this5.update(_this5.state.currCP.type);_this5.mib();});}return;case'branches':if(!__emptyCheck(['inputName']))return;__currData={name:document.getElementById('inputName').value};if(_this5.state.currCP.action===1){// update\nvar _originalData3=_this5.state.currCP.data;if(__currData.name!==_originalData3.name)request('updateBranch',{token:getToken(),id:_originalData3.id,name:__currData.name}).then(function(res){_this5.update(_this5.state.currCP.type);_this5.showCreatePanel(1,_this5.state.currCP.type,Object.assign(__currData,{id:_originalData3.id}));});}else if(_this5.state.currCP.action===0){// create\nrequest('createBranch',{token:getToken(),name:__currData.name}).then(function(res){_this5.update(_this5.state.currCP.type);_this5.mib();});}return;default:return;}};__doSomething(_this5.state.currCP.type);},children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),__imageInput]})]}),this.state.blocks.searchBox]});this.setBlocks({createNewPanel:__newCP},function(){document.getElementById(\"LKMIB\").style.visibility=\"visible\";document.getElementById(\"LKMIB\").style.opacity=\"1\";document.getElementById(\"LKMIB-CNew\").style.animation=\"showFromUp 0.3s\";document.getElementById(\"LKMIB-CNew\").style.visibility=\"visible\";document.getElementById(\"LKMIB-CNew\").style.opacity=\"1\";});}},{key:\"logOut\",value:function logOut(){Cookies.remove('data',{path:'',domain:'localhost'});this.props.props.history.push({pathname:'/auth'});}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"ul\",{className:\"main-ul\",children:[/*#__PURE__*/_jsxs(\"li\",{id:\"Logo\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"Sources/images/logo.png\",alt:\"\"}),\" \"]}),/*#__PURE__*/_jsxs(\"li\",{id:\"UserHeader\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"UserHeaderMain\",className:\"user-header-main\",ref:this.box,onClick:function onClick(){return _this6.showMore();},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"user-name\",children:[\" \",this.state.me.username,\" \"]}),/*#__PURE__*/_jsx(\"img\",{className:\"user-picture\",src:this.state.me.photo,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"UserHeaderMore\",className:\"user-header-more\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"button-profile\",children:\" \\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C \"}),/*#__PURE__*/_jsx(\"p\",{className:\"button-logout\",onClick:function onClick(){return _this6.logOut();},children:\" \\u0412\\u044B\\u0439\\u0442\\u0438 \"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"LK\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"categoriesList\",className:\"gr-list\",children:[\" \",this.state.blocks.categories,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-of\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-controls\",children:[this.state.blocks.inputXlsx,/*#__PURE__*/_jsx(\"p\",{id:\"createButton\",className:\"button-create\",onClick:function onClick(){_this6.showCreatePanel(0,_this6.state.currList,{});},children:\" \\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \"})]}),this.state.blocks.list]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"LKMIB\",className:\"mib\",onClick:function onClick(){return _this6.mib();}}),this.state.blocks.createNewPanel]})]});}}]);return LK;}(Component);;export default LK;","map":{"version":3,"sources":["D:/Files/Projects/- WEB/TravelersDream/front/src/Components/Lk.js"],"names":["React","Component","Cookies","request","requests","uploadFiles","getToken","readXlsx","LK","props","handleOutsideClick","event","box","current","contains","target","window","getComputedStyle","document","getElementById","getPropertyValue","style","visibility","state","me","username","photo","blocks","categories","types","branches","list","createNewPanel","inputXlsx","searchBox","currCP","action","type","undefined","data","currList","update","animation","opacity","setBlocks","addEventListener","l","file","schema","prop","String","required","v","getFullYear","getMonth","getDate","Number","then","rows","errors","token","users","res","success","clients","__blocks","e","uploadXlsx","files","click","__think","t","u","__status","status","showCreatePanel","id","name","fio","bdate","issue_date","issuing_authority","passport_number","passport_series","typeid","branch","permissions","map","push","__currList","backgroundColor","setState","block","cb","prevState","Object","assign","category","keys","result","getUserInfo","logOut","getTypes","__types","__counter","getBranches","__branches","getCategories","__categories","__getName","cat","c","setListOf","__searchBox","params","__getInput","value","split","display","Date","contract","organization","executor","client","tripStart","tripEnd","showSearchBox","date","amount","__textInput","__height","__title","__imageInput","src","URL","createObjectURL","__newCP","height","mib","__doSomething","__currData","__query","__emptyCheck","__what","forEach","key","__originalData","remove","path","domain","history","pathname","showMore"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport {request, requests, uploadFiles, getToken} from './requests';\r\nimport readXlsx from 'read-excel-file';\r\n\r\nclass LK extends Component {\r\n    constructor (props) {\r\n        super (props);\r\n        this.state = {\r\n            me: { username: '', photo: 'http://dream/profilepictures/0.png' },\r\n            blocks: {\r\n                categories: [],\r\n                types: [],\r\n                branches: [],\r\n                list: [],\r\n                createNewPanel: <div id='LKMIB-CNew' className='create-new'> </div>,\r\n                inputXlsx: <></>,\r\n                searchBox: <></>\r\n            },\r\n            currCP: {\r\n                action: 3,\r\n                type: '',\r\n                photo: undefined,\r\n                data: {}\r\n            },\r\n            currList: ''\r\n        };\r\n        this.update();\r\n    };\r\n\r\n    mib() {\r\n        document.getElementById(\"LKMIB\").style.visibility = \"hidden\";\r\n        document.getElementById(\"LKMIB-CNew\").style.animation = \"hideToDown 0.3s\";\r\n        document.getElementById(\"LKMIB-CNew\").style.visibility = \"hidden\";\r\n        document.getElementById(\"LKMIB-CNew\").style.opacity = \"0\";\r\n\r\n        this.setBlocks({createNewPanel: <div id='LKMIB-CNew' className='create-new'> </div>});\r\n    };\r\n    componentDidMount() { document.addEventListener('click', this.handleOutsideClick); }\r\n    handleOutsideClick = (event) => {\r\n        if (this.box && this.box.current !== null && !this.box.current.contains(event.target)) {\r\n            if (window.getComputedStyle(document.getElementById(\"UserHeaderMore\")).getPropertyValue(\"visibility\") === 'visible')\r\n                document.getElementById(\"UserHeaderMore\").style.visibility = 'hidden';\r\n        }\r\n    }\r\n    showMore() {\r\n        if (window.getComputedStyle(document.getElementById(\"UserHeaderMore\")).getPropertyValue(\"visibility\") === 'hidden')\r\n            document.getElementById(\"UserHeaderMore\").style.visibility = 'visible';\r\n        else\r\n            document.getElementById(\"UserHeaderMore\").style.visibility = 'hidden';\r\n    };\r\n\r\n    uploadXlsx(l, file) {\r\n        if (l === 'users') {\r\n            let schema = {\r\n                'ФИО': {\r\n                    prop: 'fio',\r\n                    type: String,\r\n                    required: true\r\n                },\r\n                'Дата рождения': {\r\n                    prop: 'bdate',\r\n                    type: (v) => {\r\n                        return `${v.getFullYear()}-${v.getMonth()+1}-${v.getDate()}`;\r\n                    }\r\n                },\r\n                'Тип': {\r\n                    prop: 'type',\r\n                    type: (v) => {\r\n                        switch (v) {\r\n                            case 'Агент':\r\n                                return 3;\r\n                            case 'Менеджер':\r\n                                return 2;\r\n                            case 'Бухгалтер':\r\n                                return 4;\r\n                            case 'Администратор':\r\n                                return 1;\r\n                            default:\r\n                                return 0;\r\n                        }\r\n                    }                \r\n                },\r\n                'Филиал': {\r\n                    prop: 'branch',\r\n                    type: Number\r\n                }\r\n            };\r\n            readXlsx(file, { schema }).then(({ rows, errors }) => {\r\n                request('createUser', {token: getToken(), users: rows}).then(res => {\r\n                    if (res.success) this.update(this.state.currList);\r\n                });\r\n            });\r\n        } else if (l === 'clients') {\r\n            let schema = {\r\n                'ФИО': {\r\n                    prop: 'fio',\r\n                    type: String,\r\n                    required: true\r\n                },\r\n                'Дата рождения': {\r\n                    prop: 'bdate',\r\n                    type: (v) => {\r\n                        return `${v.getFullYear()}-${v.getMonth()+1}-${v.getDate()}`;\r\n                    }\r\n                },\r\n                'Статус': {\r\n                    prop: 'status',\r\n                    type: (v) => {\r\n                        switch (v) {\r\n                            case 'Обычный':\r\n                                return 0;\r\n                            case 'Привилегированный':\r\n                                return 1;\r\n                            case 'VIP':\r\n                                return 2;\r\n                            default:\r\n                                return 0;\r\n                        }\r\n                    }                \r\n                },\r\n                'Серия': {\r\n                    prop: 'passport_series',\r\n                    type: Number\r\n                },\r\n                'Номер': {\r\n                    prop: 'passport_number',\r\n                    type: Number\r\n                },\r\n                'Дата выдачи': {\r\n                    prop: 'issue_date',\r\n                    type: (v) => {\r\n                        return `${v.getFullYear()}-${v.getMonth()+1}-${v.getDate()}`;\r\n                    }\r\n                },\r\n                'Орган, выдавший документ': {\r\n                    prop: 'issuing_authority',\r\n                    type: String\r\n                }\r\n            };\r\n            readXlsx(file, { schema }).then(({ rows, errors }) => {\r\n                request('createClient', {token: getToken(), clients: rows}).then(res => {\r\n                    if (res.success) this.update(this.state.currList);\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    setListOf(l) {\r\n        request('getListOf', { token:getToken(), list: l}).then(res => {\r\n            if (!res.data.success) return;\r\n            let __blocks = [];\r\n            if (l === 'clients' || l === 'users') \r\n                this.setBlocks({\r\n                    inputXlsx: <>\r\n                        <input id=\"fileInputXlsx\" type=\"file\" accept=\".xlsx\" onChange={(e) => {\r\n                            this.uploadXlsx(this.state.currList, e.target.files[0]);\r\n                        }} />\r\n                        <svg className='upload-button svg-icon' viewBox='0 0 20 20' onClick={() => document.getElementById(\"fileInputXlsx\").click()}>\r\n                            <path fill='#fff' d=\"M8.416,3.943l1.12-1.12v9.031c0,0.257,0.208,0.464,0.464,0.464c0.256,0,0.464-0.207,0.464-0.464V2.823l1.12,1.12c0.182,0.182,0.476,0.182,0.656,0c0.182-0.181,0.182-0.475,0-0.656l-1.744-1.745c-0.018-0.081-0.048-0.16-0.112-0.224C10.279,1.214,10.137,1.177,10,1.194c-0.137-0.017-0.279,0.02-0.384,0.125C9.551,1.384,9.518,1.465,9.499,1.548L7.76,3.288c-0.182,0.181-0.182,0.475,0,0.656C7.941,4.125,8.234,4.125,8.416,3.943z M15.569,6.286h-2.32v0.928h2.32c0.512,0,0.928,0.416,0.928,0.928v8.817c0,0.513-0.416,0.929-0.928,0.929H4.432c-0.513,0-0.928-0.416-0.928-0.929V8.142c0-0.513,0.416-0.928,0.928-0.928h2.32V6.286h-2.32c-1.025,0-1.856,0.831-1.856,1.856v8.817c0,1.025,0.832,1.856,1.856,1.856h11.138c1.024,0,1.855-0.831,1.855-1.856V8.142C17.425,7.117,16.594,6.286,15.569,6.286z\" />\r\n                        </svg>\r\n                    </>\r\n                });\r\n            else this.setBlocks({ inputXlsx: <></> });\r\n            let __think = (t, u) => {\r\n                switch (t) {\r\n                    case 'clients':\r\n                        let __status = u.status === '0' ? 'Обычный' : u.status === '1' ? 'Привилегированный' : u.status === '2' ? 'VIP' : '';\r\n                        return (\r\n                            <div className='not-enought' onClick={() => {\r\n                                this.showCreatePanel(1, l, { id: u.id, name: u.name, fio: u.fio, bdate: u.bdate, issue_date: u.issue_date, issuing_authority: u.issuing_authority, passport_number: u.passport_number, passport_series: u.passport_series, status: u.status});\r\n                            }}>\r\n                                <div className='u-info-nt'>\r\n                                    <p className='u-name u-text'>{u.fio}</p>\r\n                                    <p className='u-type u-text'>{__status}</p>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    case 'contracts':\r\n                        return (\r\n                            <div className='not-enought' onClick={() => {\r\n                                this.showCreatePanel(1, l, { id: u.id, name: u.name });\r\n                            }}>\r\n                            </div>\r\n                        );\r\n                    case 'payments':\r\n                        return (\r\n                            <div className='not-enought' onClick={() => {\r\n                                this.showCreatePanel(1, l, { id: u.id, name: u.name });\r\n                            }}>\r\n                            </div>\r\n                        );\r\n                    case 'users':\r\n                        return (\r\n                        <div className='not-enought' onClick={() => {\r\n                            this.showCreatePanel(1, l, { id: u.id, name: u.name, fio: u.fio, bdate: u.bdate, type: u.typeid - 1, branch: u.branch - 1, photo: u.photo });\r\n                        }}>\r\n                            <img className='u-picture' src={u.photo} alt='' />\r\n                            <div className='u-info-nt'>\r\n                                <p className='u-name u-text'>{u.name}</p>\r\n                                <p className='u-type u-text'>{u.type}</p>\r\n                            </div>\r\n                        </div>);\r\n                    case 'usertypes':\r\n                        return (\r\n                            <div className='not-enought' onClick={() => {\r\n                                this.showCreatePanel(1, l, { id: u.id, type: u.type, permissions: u.permissions });\r\n                            }}>\r\n                                <div className='u-info-nt'>\r\n                                    <p className='u-name u-text'>{u.type}</p>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    case 'branches':\r\n                        return (\r\n                            <div className='not-enought' onClick={() => {\r\n                                this.showCreatePanel(1, l, { id: u.id, name: u.name });\r\n                                }}>\r\n                                <div className='u-info-nt'>\r\n                                    <p className='u-name u-text'>{u.name}</p>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    default:\r\n                        return <div className='not-enought' />;\r\n                }\r\n            }\r\n\r\n            res.data.data.list.map(u => {\r\n                __blocks.push( __think(l, u) );\r\n            });\r\n\r\n            this.setBlocks({list: __blocks});\r\n\r\n            let __currList = document.getElementById(`cat${this.state.currList}`);\r\n            if (__currList) __currList.style.backgroundColor = '';\r\n            document.getElementById(`cat${l}`).style.backgroundColor = '#2c2c34';\r\n            this.setState({currList: l});\r\n        });\r\n    }\r\n\r\n    setBlocks(block, cb) {\r\n        if (!cb) this.setState((prevState) => {\r\n            return { blocks: Object.assign(prevState.blocks, block) };\r\n        });\r\n        else  this.setState((prevState) => {\r\n            return { blocks: Object.assign(prevState.blocks, block) };\r\n        }, cb);\r\n    }\r\n\r\n    update(category) {\r\n        requests({\r\n            'getUserInfo': {keys: ['name', 'photo']},\r\n            'getTypes': {},\r\n            'getBranches': {},\r\n            'getCategories': {}\r\n        }, { 'token': getToken() }).then(res => {\r\n            if (res.success) {\r\n                let data = res.result;\r\n                if (data.getUserInfo.success) // getUserInfo\r\n                    this.setState({\r\n                        me: {\r\n                            username: data.getUserInfo.data.name,\r\n                            photo: data.getUserInfo.data.photo\r\n                        }\r\n                    });\r\n                else this.logOut();\r\n                \r\n                if (data.getTypes.success) { // getTypes\r\n                    let __types = [];\r\n                    let __counter = 0;\r\n                    data.getTypes.data.types.map(type => {\r\n                        __types.push( <option value={__counter}> {type} </option> );\r\n                        __counter ++;\r\n                    });\r\n                    this.setBlocks({types:  __types})\r\n                }\r\n\r\n                if (data.getBranches.success) { // getBranches\r\n                    let __branches = [];\r\n                    let __counter = 0;\r\n                    data.getBranches.data.branches.map(branch => {\r\n                        __branches.push( <option value={__counter}> {branch} </option> );\r\n                        __counter ++;\r\n                    });\r\n                    this.setBlocks({branches: __branches});\r\n                }\r\n\r\n                if (data.getCategories.success) { // getCategories\r\n                    let __categories = [];\r\n                    let __counter = 1;\r\n                    let __getName = (cat) => {\r\n                        switch (cat) {\r\n                            case 'clients':\r\n                                return 'Клиенты';\r\n                            case 'contracts':\r\n                                return 'Договоры';\r\n                            case 'payments':\r\n                                return 'Платежи';\r\n                            case 'users':\r\n                                return 'Пользователи';\r\n                            case 'usertypes':\r\n                                return 'Типы пользователей';\r\n                            case 'branches':\r\n                                return 'Филиалы';\r\n                            default:\r\n                                return '';\r\n                        }\r\n                    };\r\n\r\n                    data.getCategories.data.categories.map(c => {\r\n                        if (!category && __counter === 1) this.setListOf(c);\r\n                        __categories.push(\r\n                            <p id={`cat${c}`} className={`cat-${__counter}`}\r\n                                onClick={() => this.setListOf(c) }> {__getName(c)} </p>\r\n                        )\r\n                        __counter ++;\r\n                    });\r\n\r\n                    if (category) this.setListOf(category);\r\n                    this.setBlocks({categories: __categories});\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    showSearchBox(list) {\r\n        let __searchBox = (\r\n            <div className='searchBox'>\r\n                \r\n            </div>\r\n        )\r\n        this.setBlocks({searchBox: __searchBox});\r\n    }\r\n\r\n    showCreatePanel(action, type, params) {\r\n        this.setState({currCP: {action: action, type: type, data: params}});\r\n        const __getInput = (t) => {\r\n            switch (t) {\r\n                case 'users':\r\n                    return [<>\r\n                        <div className='input-name input-row'> \r\n                            <p> Имя </p> <input id='inputName' type='text' defaultValue={params.name ? params.name : ''} />\r\n                        </div>\r\n                        <div className=\"input-fio input-row\">\r\n                            <p> ФИО </p> <input id=\"inputFIO\" type=\"text\" onChange={(e) => {\r\n                                let fio = e.target.value.split(\" \");\r\n                                document.getElementById(\"inputName\").value = (fio[0] ? fio[0] : \"\") + \r\n                                    (fio[1] ?  ` ${fio[1][0]}.` : \"\") + \r\n                                    (fio[2] ? ` ${fio[2][0]}.` : \"\");\r\n                            }} defaultValue={params.fio ? params.fio : ''} />\r\n                        </div>\r\n                        <div className=\"input-date input-row\">\r\n                            <p> Дата рождения </p> <input id=\"inputBDate\" type=\"date\" defaultValue={params.bdate ? params.bdate : ''} />\r\n                        </div>\r\n                        <div className=\"input-type input-row\">\r\n                            <p> Филиал </p> <select id=\"selectBranch\" defaultValue={params.branch ? params.branch : 0} > {this.state.blocks.branches} </select>\r\n                        </div>\r\n                        <div className=\"input-type input-row\">\r\n                            <p> Тип </p> <select id=\"selectType\" defaultValue={params.type ? params.type : 0}> {this.state.blocks.types} </select>\r\n                        </div>\r\n                    </>, 350, action === 0 ? 'Добавление пользователя' : params.name];\r\n                case 'clients':\r\n                    return [<>\r\n                        <div className='tabs'>\r\n                            <button id='tabMain' className='tab tab-main' onClick={(e) => {\r\n                                e.target.style.backgroundColor = '#494850';\r\n                                document.getElementById('tabPassport').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabMainContent').style.display = 'block';\r\n                                document.getElementById('tabPassportContent').style.display = 'none';\r\n                            }}>Основное</button>\r\n                            <button id='tabPassport' className='tab tab-passport' onClick={(e) => {\r\n                                document.getElementById('tabMain').style.backgroundColor = '#2c2c34';\r\n                                e.target.style.backgroundColor = '#494850';\r\n                                document.getElementById('tabMainContent').style.display = 'none';\r\n                                document.getElementById('tabPassportContent').style.display = 'block';\r\n                            }}>Паспортные данные</button>\r\n                        </div>\r\n                        <div id='tabMainContent' className='tab-content'>\r\n                            <div className='input-name input-row'> \r\n                                <p> Имя </p> <input id='inputName' type='text' defaultValue={params.name ? params.name : ''} />\r\n                            </div>\r\n                            <div className='input-fio input-row'>\r\n                                <p> ФИО </p> <input id=\"inputFIO\" type='text' onChange={(e) => {\r\n                                    let fio = e.target.value.split(' ');\r\n                                    document.getElementById('inputName').value = (fio[0] ? fio[0] : '') + \r\n                                        (fio[1] ?  ` ${fio[1][0]}.` : '') + \r\n                                        (fio[2] ? ` ${fio[2][0]}.` : '');\r\n                                }} defaultValue={params.fio ? params.fio : ''} />\r\n                            </div>\r\n                            <div className='input-date input-row'>\r\n                                <p> Дата рождения </p> <input id='inputBDate' type='date' defaultValue={params.bdate ? params.bdate : ''} />\r\n                            </div>\r\n                            <div className='input-type input-row'>\r\n                                <p> Статус </p> <select id=\"selectStatus\" defaultValue={params.status ? params.status : 0}>\r\n                                    <option value={0}>Обычный</option>\r\n                                    <option value={1}>Привилегированный</option>\r\n                                    <option value={2}>VIP</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div id='tabPassportContent' className='tab-content'>\r\n                            <div className='input-number input-row'> \r\n                                <p> Серия </p> <input id='inputpassport_series' type='number' defaultValue={params.passport_series ? params.passport_series : ''} />\r\n                                <p> Номер </p> <input id='inputpassport_number' type='number' defaultValue={params.passport_number ? params.passport_number : ''} />\r\n                            </div>\r\n                            <div className='input-date input-row'> \r\n                                <p> Дата выдачи </p> <input id='inputPassportIssue' type='date' defaultValue={params.issue_date ? params.issue_date : ''} />\r\n                            </div>\r\n                            <div className='input-text input-row'> \r\n                                <p> Орган, выдавший документ </p> <input id='inputAuthority' type='text' defaultValue={params.issuing_authority ? params.issuing_authority : ''} />\r\n                            </div>\r\n                        </div>\r\n                    </>, 350, action === 0 ? 'Добавление клиента' : ''];\r\n                case 'contracts':\r\n                    return [<>\r\n                        <div className='tabs margin-top'>\r\n                            <button id='tabMain' className='tab tab-main' onClick={(e) => {\r\n                                e.target.style.backgroundColor = '#494850';\r\n                                document.getElementById('tabTripRoute').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabTripParticipants').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabMainContent').style.display = 'block';\r\n                                document.getElementById('tabRouteContent').style.display = 'none';\r\n                                document.getElementById('tabParticipantsContent').style.display = 'none';\r\n                            }}> Основное </button>\r\n                            <button id='tabTripParticipants' className='tab tab-tripParticipants' onClick={(e) => {\r\n                                e.target.style.backgroundColor = '#494850';\r\n                                document.getElementById('tabTripRoute').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabMain').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabParticipantsContent').style.display = 'block';\r\n                                document.getElementById('tabRouteContent').style.display = 'none';\r\n                                document.getElementById('tabMainContent').style.display = 'none';\r\n                            }}> Участники поездки </button>\r\n                            <button id='tabTripRoute' className='tab tab-tripRoute' onClick={(e) => {\r\n                                e.target.style.backgroundColor = '#494850';\r\n                                document.getElementById('tabTripParticipants').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabMain').style.backgroundColor = '#2c2c34';\r\n                                document.getElementById('tabParticipantsContent').style.display = 'none';\r\n                                document.getElementById('tabMainContent').style.display = 'none';\r\n                                document.getElementById('tabRouteContent').style.display = 'block';\r\n                            }}> Маршрут поездки </button>\r\n                        </div>\r\n                        <div id='tabMainContent' className='tab-content'>\r\n                            <div className='input-date input-row'> \r\n                                <p> Дата </p> <input id='inputDate' type='date' defaultValue={params.Date ? params.Date : ''} />\r\n                            </div>\r\n                            <div className='input-text input-row'> \r\n                                <p> Соглашение </p> <input id='inputContract' type='text' defaultValue={params.contract ? params.contract : ''} />\r\n                            </div>\r\n                            <div className='input-text input-row'> \r\n                                <p> Организация </p> <select id='inputOrganization' type='text' defaultValue={params.organization ? params.organization : ''} > {this.state.blocks.branches} </select>\r\n                            </div>\r\n                            <div className='input-text input-row'> \r\n                                <p> Агент </p> <input id='inputExecutor' type='text' defaultValue={params.executor ? params.executor : ''} />\r\n                            </div>\r\n                            <div className='input-text input-row'> \r\n                                <p> Клиент </p> <input id='inputClient' type='text' defaultValue={params.client ? params.client : ''} />\r\n                            </div>\r\n                            <div className='input-date input-row'> \r\n                                <p> Начало поездки </p> <input id='inputDateStart' type='date' defaultValue={params.tripStart ? params.tripStart : ''} />\r\n                            </div>\r\n                            <div className='input-date input-row'>\r\n                                <p> Конец поездки </p> <input id='inputDateEnd' type='date' defaultValue={params.tripEnd ? params.tripEnd : ''} />\r\n                            </div>\r\n                        </div>\r\n                        <div id='tabParticipantsContent' className='tab-content'>\r\n                            <table className='table-contracts'>\r\n                                <tr className='table-tr'>\r\n                                    <th>№</th>\r\n                                    <th>ФИО</th>\r\n                                </tr>\r\n                                <tr className='table-tr-add'>\r\n                                    <th/>\r\n                                    <th/>\r\n                                </tr>\r\n                            </table>\r\n                            <button className='button-add-table' onClick={()=>this.showSearchBox()}>Добавить</button>\r\n                        </div>\r\n                        <div id='tabRouteContent' className='tab-content'>\r\n                            <table className='table-contracts'>\r\n                                <tr className='table-tr'>\r\n                                    <th>№</th>\r\n                                    <th>Город</th>\r\n                                    <th>Гостиница</th>\r\n                                    <th>Вид номера</th>\r\n                                    <th>Дата начала</th>\r\n                                    <th>Дата окончания</th>\r\n                                </tr>\r\n                                <tr className='table-tr-add'>\r\n                                    <th/>\r\n                                    <th/>\r\n                                    <th/>\r\n                                    <th/>\r\n                                    <th/>\r\n                                    <th/>\r\n                                </tr>\r\n                            </table>\r\n                            <button className='button-add-table'>Добавить</button>\r\n                        </div>\r\n                    </>, 480, action === 0 ? 'Создание договора' : ''];\r\n                case 'payments':\r\n                    return [<>\r\n                        <div className='input-date input-row'> \r\n                            <p> Дата </p> <input id='inputDate' type='date' defaultValue={params.date ? params.date : ''} />\r\n                        </div>\r\n                        <div className=\"input-text input-row\">\r\n                            <p> Организация </p> <input id=\"selectOrganization\" type='text' defaultValue={params.organization ? params.organization : ''} />\r\n                        </div>\r\n                        <div className=\"input-text input-row\">\r\n                            <p> Договор </p> <input id=\"selectContract\" type='text' defaultValue={params.contract ? params.contract : ''} />\r\n                        </div>\r\n                        <div className=\"input-text input-row\">\r\n                            <p> Сумма в рублях </p> <input id=\"selectAmount\" type='number' defaultValue={params.amount ? params.amount : ''} />\r\n                        </div>\r\n                    </>, 310, action === 0 ? 'Добавление платежа' : ''];\r\n                case 'usertypes':\r\n                    return [<>\r\n                        <div className='input-name input-row'> \r\n                            <p> Тип </p> <input id='inputName' type='text' defaultValue={params.type ? params.type : ''} />\r\n                        </div>\r\n                    </>, 230, action === 0 ? 'Создание типа пользователей' : params.type];\r\n                    /*<div className=\"input-type input-row\">\r\n                        <p> Разрешения </p> <select id=\"selectType\" defaultValue={[]} multiple> </select>\r\n                    </div>*/\r\n                case 'branches':\r\n                    return [<>\r\n                        <div className='input-name input-row'> \r\n                            <p> Название </p> <input id='inputName' type='text' defaultValue={params.name ? params.name : ''} />\r\n                        </div>\r\n                    </>, 180, action === 0 ? 'Создание филиала' : params.name];\r\n                default:\r\n                    return [<></>, 0, '']\r\n            }\r\n        };\r\n        const [__textInput, __height, __title] = __getInput(type);\r\n        const __imageInput = (type === 'users') ? \r\n        <div className=\"image-input-block\">\r\n            <p className=\"image-title\"> Фото </p>\r\n            <input id=\"imageInput\" className=\"image-input\" type=\"image\" alt='' onClick={ () => document.getElementById(\"fileInput\").click() } src={ params.photo ? params.photo : 'http://dream/profilepictures/0.png' }/>\r\n            <input id=\"fileInput\" type=\"file\" accept=\"image/png, image/jpeg\" onChange={(e) => {\r\n                this.setState((prevState) => {\r\n                    return { currCP: Object.assign(prevState.currCP, {photo: e.target.files[0]}) };\r\n                });\r\n                document.getElementById(\"imageInput\").src = window.URL.createObjectURL(e.target.files[0]);\r\n            }} />\r\n        </div> : <></>;\r\n\r\n        let __newCP = (\r\n            <>\r\n            <div id='LKMIB-CNew' className='create-new' style={{height: __height}}>\r\n                <div className=\"title-block\">\r\n                    <p id=\"CNewTitle\" className=\"title-name\"> {__title} </p>\r\n                    <svg className=\"title-close\" viewBox=\"0 0 20 20\" onClick={ () => this.mib() }>\r\n\t\t\t\t\t\t<path fill=\"white\" d=\"M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z\"></path>\r\n\t\t\t\t\t</svg>\r\n                </div>\r\n                <div className='input-block'>\r\n                    <div className='text-input'>\r\n                        {__textInput}\r\n                        <button className='button-save' onClick={()=>{\r\n                            let __doSomething = (t) => {\r\n                                let __currData = {};\r\n                                let __query = {};\r\n                                let __emptyCheck = (keys) => {\r\n                                    let __what = true;\r\n                                    keys.forEach(key => {\r\n                                        if (document.getElementById(key).value === '') {\r\n                                            __what = false;\r\n                                            document.getElementById(key).style.backgroundColor = 'rgba(255, 0, 0, .1)';\r\n                                        } else \r\n                                            document.getElementById(key).style.backgroundColor = '';\r\n                                    });\r\n                                    return __what;\r\n                                };\r\n                                switch (t) {\r\n                                    case 'users':\r\n                                        if (!__emptyCheck(['inputName', 'inputFIO', 'inputBDate'])) return;\r\n                                        __currData = {\r\n                                            name: document.getElementById(\"inputName\").value,\r\n                                            fio: document.getElementById(\"inputFIO\").value,\r\n                                            bdate: document.getElementById(\"inputBDate\").value,\r\n                                            type: document.getElementById(\"selectType\").value,\r\n                                            branch: document.getElementById(\"selectBranch\").value,\r\n                                            photo: this.state.currCP.photo\r\n                                        };\r\n                                        if (this.state.currCP.action === 1) { // update\r\n                                            let __originalData = this.state.currCP.data;\r\n                                            \r\n                                            Object.keys(__originalData).map(key => {\r\n                                                if (__currData[key] !== __originalData[key] && key !== 'photo' && key !== 'id') \r\n                                                    if (key === 'type' || key === 'branch') __query[key] = +__currData[key] + 1;\r\n                                                    else __query[key] = __currData[key];\r\n                                            });\r\n                                            if (__query !== {}) \r\n                                                uploadFiles('updateUserInfo', { token: getToken(), id: __originalData.id, keys: __query }, [__currData.photo ? __currData.photo : undefined]).then(res => {\r\n                                                    this.update(this.state.currCP.type);\r\n                                                    this.showCreatePanel(1, this.state.currCP.type, Object.assign(__currData, {\r\n                                                        id: __originalData.id, photo: __currData.photo ? window.URL.createObjectURL(__currData.photo) : __originalData.photo\r\n                                                    }));\r\n                                                });\r\n                                        } else if (this.state.currCP.action === 0) { // create\r\n                                            Object.keys(__currData).map(key => {\r\n                                                if (key === 'type' || key === 'branch') __query[key] = +__currData[key] + 1;\r\n                                                else if (key !== 'photo') __query[key] = __currData[key];\r\n                                            });\r\n                                            uploadFiles(\"createUser\", {token: getToken(), keys: __query}, [__currData.photo ? __currData.photo : undefined]).then( res => {\r\n                                                this.update(this.state.currCP.type);\r\n                                                this.mib();\r\n                                            });\r\n                                        }\r\n                                        return;\r\n                                    case 'clients':\r\n                                        if (!__emptyCheck(['inputName', 'inputFIO', 'inputBDate', 'inputpassport_series', 'inputpassport_number', 'inputPassportIssue', 'inputAuthority', 'selectStatus'])) return;\r\n                                        __currData = {\r\n                                            fio: document.getElementById(\"inputFIO\").value,\r\n                                            name: document.getElementById(\"inputName\").value,\r\n                                            passport_series: document.getElementById(\"inputpassport_series\").value,\r\n                                            passport_number: document.getElementById(\"inputpassport_number\").value,\r\n                                            issue_date: document.getElementById(\"inputPassportIssue\").value,\r\n                                            issuing_authority: document.getElementById(\"inputAuthority\").value,\r\n                                            status: document.getElementById(\"selectStatus\").value,\r\n                                            bdate: document.getElementById(\"inputBDate\").value,\r\n                                        };\r\n                                        if (this.state.currCP.action === 1) { // update\r\n                                            let __originalData = this.state.currCP.data;\r\n                                            Object.keys(__originalData).map(key => {\r\n                                                if (__currData[key] !== __originalData[key] && key !== 'id'){\r\n                                                    __query[key] = __currData[key];\r\n                                                }\r\n                                            });\r\n                                            if (__query !== {}) \r\n                                                request('updateClient', { token: getToken(), id: __originalData.id, keys: __query }).then(res => {\r\n                                                    this.update(this.state.currCP.type);\r\n                                                    this.showCreatePanel(1, this.state.currCP.type, Object.assign(__currData, { id: __originalData.id }));\r\n                                                });\r\n                                        } else if (this.state.currCP.action === 0) { // create\r\n                                            Object.keys(__currData).map(key => {\r\n                                                if (key !== 'photo') __query[key] = __currData[key];\r\n                                            });\r\n                                            request(\"createClient\", {token: getToken(), client: __query}).then( res => {\r\n                                                this.update(this.state.currCP.type);\r\n                                                this.mib();\r\n                                            });\r\n                                        }\r\n                                        return;\r\n                                    case 'contracts':\r\n                                        return;\r\n                                    case 'payments':\r\n                                        return;\r\n                                    case 'usertypes':\r\n                                        if (!__emptyCheck(['inputName'])) return;\r\n                                        __currData = {\r\n                                            name: document.getElementById('inputName').value\r\n                                        };\r\n                                        if (this.state.currCP.action === 1) { // update\r\n                                            let __originalData = this.state.currCP.data;\r\n                                            if (__currData.name !== __originalData.name)\r\n                                                request('updateType', { token: getToken(), id: __originalData.id, name: __currData.name}).then(res => {\r\n                                                    this.update(this.state.currCP.type);\r\n                                                    this.showCreatePanel(1, this.state.currCP.type, Object.assign({ id: __originalData.id, type: __currData.name }));\r\n                                                });\r\n                                        } else if (this.state.currCP.action === 0) { // create\r\n                                            request('createType', { token: getToken(), name: __currData.name}).then(res => {\r\n                                                this.update(this.state.currCP.type);\r\n                                                this.mib();\r\n                                            });\r\n                                        }\r\n                                        return;\r\n                                    case 'branches':\r\n                                        if (!__emptyCheck(['inputName'])) return;\r\n                                        __currData = {\r\n                                            name: document.getElementById('inputName').value\r\n                                        };\r\n                                        if (this.state.currCP.action === 1) { // update\r\n                                            let __originalData = this.state.currCP.data;\r\n                                            if (__currData.name !== __originalData.name)\r\n                                                request('updateBranch', { token: getToken(), id: __originalData.id, name: __currData.name}).then(res => {\r\n                                                    this.update(this.state.currCP.type);\r\n                                                    this.showCreatePanel(1, this.state.currCP.type, Object.assign(__currData, { id: __originalData.id }));\r\n                                                });\r\n                                        } else if (this.state.currCP.action === 0) { // create\r\n                                            request('createBranch', { token: getToken(), name: __currData.name}).then(res => {\r\n                                                this.update(this.state.currCP.type);\r\n                                                this.mib();\r\n                                            });\r\n                                        }\r\n                                        return;\r\n                                    default:\r\n                                        return;\r\n                                }\r\n                            };\r\n\r\n                            __doSomething(this.state.currCP.type);\r\n                        }}>Сохранить</button>\r\n                    </div>\r\n                    {__imageInput}\r\n                </div>\r\n            </div>\r\n            {this.state.blocks.searchBox}\r\n            </>\r\n        );\r\n\r\n        this.setBlocks({createNewPanel: __newCP}, () => {\r\n            document.getElementById(\"LKMIB\").style.visibility = \"visible\";\r\n            document.getElementById(\"LKMIB\").style.opacity = \"1\";\r\n            document.getElementById(\"LKMIB-CNew\").style.animation = \"showFromUp 0.3s\";\r\n            document.getElementById(\"LKMIB-CNew\").style.visibility = \"visible\";\r\n            document.getElementById(\"LKMIB-CNew\").style.opacity = \"1\";\r\n        });\r\n    };\r\n\r\n    logOut() {\r\n        Cookies.remove('data', {\r\n            path: '',\r\n            domain: 'localhost'\r\n        });\r\n        this.props.props.history.push({ pathname: '/auth' });\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n        <>\r\n            <header>\r\n                <ul className='main-ul'>\r\n                    <li id='Logo'> <img src=\"Sources/images/logo.png\" alt='' /> </li>\r\n                    <li id='UserHeader'>\r\n                        <div id='UserHeaderMain' className='user-header-main' ref={this.box} onClick={() => this.showMore()}>\r\n                            <p className='user-name'> {this.state.me.username} </p>\r\n                            <img className='user-picture' src={this.state.me.photo} alt='' />\r\n                        </div>\r\n                        <div id='UserHeaderMore' className='user-header-more'>\r\n                            <p className='button-profile'> Профиль </p>\r\n                            <p className='button-logout' onClick={() => this.logOut()} > Выйти </p>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </header>\r\n            <div id='LK'>\r\n                <div className='control-panel'>\r\n                    <div id='categoriesList' className='gr-list'> {this.state.blocks.categories} </div>\r\n                    <div className='list-of'>\r\n                        <div className='list-controls'>\r\n                            {this.state.blocks.inputXlsx}\r\n                            <p id='createButton' className='button-create' onClick={() => {\r\n                                this.showCreatePanel(0, this.state.currList, {});\r\n                            }}> Создать </p>\r\n                        </div>\r\n                        {this.state.blocks.list}\r\n                    </div>\r\n                </div>\r\n                <div id='LKMIB' className='mib' onClick={ () => this.mib() } />\r\n                {this.state.blocks.createNewPanel}\r\n            </div>    \r\n        </>\r\n        );\r\n    }\r\n};\r\n\r\nexport default LK;"]},"metadata":{},"sourceType":"module"}